"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[746],{444:function(e,t,n){n.d(t,{Wf:function(){return p},XT:function(){return _},YJ:function(){return v},au:function(){return m},q5:function(){return d}});var s=n(861),r=n(757),i=n.n(r),a=n(7),o=n.n(a),c=n(243),u="42e9fa5f0127d7be790bf01016aed54e",l="https://api.themoviedb.org/3",_=function(){var e=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(l,"/trending/movie/day?api_key=").concat(u,"&language=en-US&&page=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(l,"/movie/").concat(t,"?api_key=").concat(u,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,s.Z)(i().mark((function e(t){var n,s,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,e.next=3,c.Z.get("".concat(l,"/search/movie?api_key=").concat(u,"&query=").concat(t,"&language=en-US&page=").concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(l,"/movie/").concat(t,"/credits?api_key=").concat(u,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(l,"/movie/").concat(t,"/reviews?api_key=").concat(u,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();_.propTypes={page:o().number.isRequired},v.propTypes={id:o().number.isRequired},p.propTypes={query:o().string.isRequired,page:o().number.isRequired},m.propTypes={id:o().number.isRequired},d.propTypes={id:o().number.isRequired}},746:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var s=n(861),r=n(439),i=n(757),a=n.n(i),o=n(87),c=n(689),u=n(444),l=n(791),_=n(226),v=n(184);function p(e){var t=e.onSubmit,n=(0,l.useState)(""),s=(0,r.Z)(n,2),i=s[0],a=s[1];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h1",{className:_.Z.MovieSearchTitle,children:"Movies Search"}),(0,v.jsxs)("form",{className:_.Z.SearchBarForm,onSubmit:function(e){e.preventDefault(),t(i)},children:[(0,v.jsx)("input",{name:"query",className:_.Z.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){var t=e.target.value;a(t)},value:i}),(0,v.jsx)("button",{className:_.Z.SearchFormBtn,type:"submit",children:(0,v.jsx)("span",{children:"Search"})})]})]})}function m(){var e=(0,o.lr)(),t=(0,r.Z)(e,2),n=t[0],i=t[1],m=n.get("query"),d=(0,l.useState)(null),h=(0,r.Z)(d,2),f=h[0],y=h[1],g=(0,c.TH)(),M=(0,l.useState)(1),x=(0,r.Z)(M,2),k=x[0],S=x[1];(0,l.useEffect)((function(){if(m){var e=function(){var e=(0,s.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Wf)(m,k);case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[m,k]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("section",{className:_.Z.MovieSection,children:(0,v.jsxs)("div",{className:_.Z.container,children:[(0,v.jsx)(p,{onSubmit:function(e){""!==e&&" "!==e&&(i({query:e}),S(1))}}),(0,v.jsx)("div",{className:_.Z.MovieListContainer,children:(0,v.jsx)("ul",{className:_.Z.TrendingMoviesList,children:f&&f.results&&f.results.map((function(e){return(0,v.jsx)("li",{className:_.Z.MoviesListItem,children:(0,v.jsxs)(o.OL,{className:_.Z.MoviesListItemLink,to:"/movies/".concat(e.id),state:{from:g},children:[null!==e.poster_path?(0,v.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(e.poster_path),alt:"".concat(e.original_title)}):(0,v.jsx)("img",{className:_.Z.NoImage,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1665px-No-Image-Placeholder.svg.png",alt:"".concat(e.original_title)}),(0,v.jsx)("p",{className:_.Z.HomeMovieLink,children:e.original_title})]})},e.id)}))})}),f&&1!==f.total_pages&&(0,v.jsxs)("div",{className:_.Z.MoviesBtnContainer,children:[(0,v.jsx)("button",{className:_.Z.PrevBtn,disabled:1===k,onClick:function(){k>1&&S(k-1)},children:"Previous"}),(0,v.jsx)("button",{className:_.Z.NextBtn,disabled:k===f.total_pages,onClick:function(){S(k+1)},children:"Next"})]})]})})})}},226:function(e,t){t.Z={NoImage:"styles_NoImage__UKmdh",container:"styles_container__xkJAz",Home:"styles_Home__yKKUP",Movies:"styles_Movies__OhJn5",HomeTitle:"styles_HomeTitle__KcSOJ",HomeMovieLink:"styles_HomeMovieLink__5ZKft",PrevBtn:"styles_PrevBtn__T7Pq6",NextBtn:"styles_NextBtn__A9wvF",HomeBtnCont:"styles_HomeBtnCont__oH5t1",SectionHero:"styles_SectionHero__2mpe-",SearchBarForm:"styles_SearchBarForm__D01f6",MovieSearchTitle:"styles_MovieSearchTitle__lYVvP",HeaderCont:"styles_HeaderCont__iqh1E",Header:"styles_Header__ykbb-",Show:"styles_Show__697Tx",GitHubIcon:"styles_GitHubIcon__irLJu",HomePageSection:"styles_HomePageSection__r3ddi",TrendingMoviesList:"styles_TrendingMoviesList__GgUO5",MovieSection:"styles_MovieSection__Ipb70",MoviesList:"styles_MoviesList__ULRu5",MovieListContainer:"styles_MovieListContainer__1U2k1",MoviesListItem:"styles_MoviesListItem__Q71ET",MoviesListItemLink:"styles_MoviesListItemLink__qAIkF",SearchFormInput:"styles_SearchFormInput__CgiPO",SearchFormBtn:"styles_SearchFormBtn__dtFc8",MoviesBtnContainer:"styles_MoviesBtnContainer__OsuIn",MovieDetailsSection:"styles_MovieDetailsSection__m6qhY",BackLinkContainer:"styles_BackLinkContainer__+Swgi",MovieDetailsTitle:"styles_MovieDetailsTitle__j7tLU",BackLink:"styles_BackLink__+YUgl",MovieDetailsContainer:"styles_MovieDetailsContainer__qC0KM",MovieDetailsImage:"styles_MovieDetailsImage__-Minz",MovieDetailsOverview:"styles_MovieDetailsOverview__d2-yp",MovieDetailsList:"styles_MovieDetailsList__pAt51",CastList:"styles_CastList__5TP9o",CastBtn:"styles_CastBtn__L6MH3",ReviewsBtn:"styles_ReviewsBtn__fGLGb",ReviewsList:"styles_ReviewsList__Z8QN3",ss:"styles_ss__CKUZI"}}}]);
//# sourceMappingURL=746.a26ef3ad.chunk.js.map